  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.1ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'foobar', 'a7aea6e508d0b933b985dc0c80a3952e10655e6a', 'f2e0e0679785380d0ad8ce3a1d29f2d3a13907a3', 'foo@example.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'nonexisting') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'nonexisting') LIMIT 1[0m
  [4;35;1mUser Delete all (0.3ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Delete all (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'foo', 'e85c82114bb15d4c9d73e61ee0518c6742ddbefc', '29ce5e4c1f6ed716ae46f8cd131228fd089c87a6', 'foo@bar.com')[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.1ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'foobar', '5a220fccd51967e4bc14876e47d2d1bb3cab0635', 'd72e83400852f930b063fc64f498a6b67816b372', 'foo@example.com')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'foo', '070ef03b35ef3cca75bcad026a50f0a9268c4882', 'bd07eb7a7ab39628d81c8c2b61bb1d1f42650ce2', 'foo@example.com')[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'odd ^&(@)') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'foo', '63d403aa24385e64e94ed218c4d19b811b52f585', '79e17617e311030bd2ab30444539619f83dce480', 'bar@example.com')[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:28', '2010-03-28 18:23:28', 'uniquename', '52f2524aa0fc904f81b9749989a715ba432aeb39', '43e9abfc0ba2d6b021194c2a156705c675afc4a8', 'foo@example.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m


Processing SessionsController#new (for 0.0.0.0 at 2010-03-29 01:23:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 6ms (View: 4, DB: 2) | 200 OK [http://test.host/login]


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 01:23:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://test.host/signup]
  [4;36;1mSQL (24.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:31', '2010-03-28 18:23:31', 'rbates', '6de696b63055725b9adaea9164c226253bf2807a', '94308a42162ce34ba32f63df61d84889a03449ab', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:23:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 8, DB: 3) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:23:31) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 1, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:23:31', '2010-03-28 18:23:31', 'rbates', 'c71b1edb1f4926fda17c77bd111ee686d057dc97', '7e9871e64d2de47c5d55b2682aeb7ee05210dc3c', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:23:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:23:31) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m

NameError (undefined local variable or method `root_url' for #<SessionsController:0xb69a7584>):
  app/controllers/sessions_controller.rb:10:in `create'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `send'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `do_request'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:19:in `post'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `post'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `send'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `process_request'
  webrat (0.7.0) lib/webrat/core/session.rb:118:in `request_page'
  webrat (0.7.0) lib/webrat/core/elements/form.rb:20:in `submit'
  webrat (0.7.0) lib/webrat/core/elements/field.rb:225:in `click'
  webrat (0.7.0) lib/webrat/core/scope.rb:290:in `click_button'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `click_button'
  (eval):2:in `click_button'
  /test/integration/authentication_test.rb:9:in `test_logging_in_with_valid_username_and_password'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit.rb:279
  rake (0.8.7) lib/rake/rake_test_loader.rb:5

Rendered rescues/_trace (47.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mUser Delete all (0.5ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'foobar', '5b434a128fa56c8e9d77cbbac59eb4924180853b', '6d708f4ddcc21bee8119fda383d5b72de6ee91b4', 'foo@example.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.8ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'nonexisting') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'nonexisting') LIMIT 1[0m
  [4;35;1mUser Delete all (0.3ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Delete all (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'foo', 'b6dd52bca10dc08097e6fcb655f9ee1409da7557', '801baeb96c6f29d0af82226f57e4e7434127c4ce', 'foo@bar.com')[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.1ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'foobar', '17ec112565ce4ccd986a61ef5565325c90521d90', '5c1d5a1bdf92c0974889918774df18ecbb597125', 'foo@example.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'foo', '61f29c537969ca73627afd45edf4771a6164b0f0', 'd8379e45335a27c99c93f7b531397a0b3fe3bd17', 'foo@example.com')[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.3ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.3ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'odd ^&(@)') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'foo', '879527583279065af28323dabfd07f834ddabc30', 'fb420e36e0e205b0fbe376af2ad28f868f3216bf', 'bar@example.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:12', '2010-03-28 18:24:12', 'uniquename', 'bb0c45650b4b258f771db866cbd76a7f354141db', '2b7ef31e3364f881fb5c00de13e9ae01e38d654f', 'foo@example.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m


Processing SessionsController#create (for 0.0.0.0 at 2010-03-29 01:24:14) [POST]
  Parameters: {"action"=>"create", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/sessions]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" LIMIT 1[0m


Processing SessionsController#create (for 0.0.0.0 at 2010-03-29 01:24:14) [POST]
  Parameters: {"action"=>"create", "controller"=>"sessions"}


Processing SessionsController#new (for 0.0.0.0 at 2010-03-29 01:24:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/login]


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 01:24:14) [POST]
  Parameters: {"action"=>"create", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://test.host/users]


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 01:24:14) [POST]
  Parameters: {"action"=>"create", "controller"=>"users"}
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:14', '2010-03-28 18:24:14', NULL, NULL, NULL, NULL)[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 01:24:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/signup]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:15', '2010-03-28 18:24:15', 'rbates', 'edae4b23eed81515738dd42edbf81708a7f29548', 'd647dedf11bb5606e60a01264927232d2d35c555', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:24:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:24:15) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 2, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:24:15', '2010-03-28 18:24:15', 'rbates', 'a60b1247c19404958f2e2aae390a75e295aa5716', 'e3e2fe8e669ce8ea7b45b651386ee75d01a83bcb', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:24:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:24:16) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m

NameError (undefined local variable or method `root_url' for #<SessionsController:0xb677e71c>):
  app/controllers/sessions_controller.rb:10:in `create'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `send'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `do_request'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:19:in `post'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `post'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `send'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `process_request'
  webrat (0.7.0) lib/webrat/core/session.rb:118:in `request_page'
  webrat (0.7.0) lib/webrat/core/elements/form.rb:20:in `submit'
  webrat (0.7.0) lib/webrat/core/elements/field.rb:225:in `click'
  webrat (0.7.0) lib/webrat/core/scope.rb:290:in `click_button'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `click_button'
  (eval):2:in `click_button'
  /test/integration/authentication_test.rb:9:in `test_logging_in_with_valid_username_and_password'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit.rb:279
  rake (0.8.7) lib/rake/rake_test_loader.rb:5

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mUser Delete all (0.4ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.1ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'foobar', '1905b4dc5d071569014924971d580b35aaf5ef1f', 'b8b2aa760468566eb1b13b14d1acc69a3e7219b1', 'foo@example.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'nonexisting') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'nonexisting') LIMIT 1[0m
  [4;35;1mUser Delete all (0.3ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Delete all (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'foo', 'a99fdb61d10c493fb6c24179c4c6d596baaccc8b', 'b92577d3743e37794dcb8b9f470ac86d64a26e7c', 'foo@bar.com')[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.6ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Delete all (0.1ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'foobar', '7cfff7a8b6e3687ff36f82eb6183c4d022eec086', '3159f851d38aac83e4393331fe5b3ea9b5ac53de', 'foo@example.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'foobar') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'foo', 'abec4d901cd07c60cc09b13ba0474f0fdebbf3a1', 'd5f9cf15dadd1baf78d386e469ca1a0f8c8b098b', 'foo@example.com')[0m
  [4;36;1mUser Delete all (0.4ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@bar@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.2ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'odd ^&(@)') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Delete all (0.0ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.2ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'foo', '1314803fa347638a128fc8395c093826bb2d31b4', 'b915c83ac420f469ca70be1d6180bbcbe2dfd059', 'bar@example.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'foo') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@example.com') LIMIT 1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:01', '2010-03-28 18:25:01', 'uniquename', 'c2cd60cde04847e4d5df8fe84d91fb128e8b8f44', 'd2dea62a08fc6c4f27f4bb8d4643b867c34f209f', 'foo@example.com')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'uniquename') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@example.com') LIMIT 1[0m


Processing SessionsController#create (for 0.0.0.0 at 2010-03-29 01:25:03) [POST]
  Parameters: {"action"=>"create", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 6ms (View: 4, DB: 2) | 200 OK [http://test.host/sessions]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" LIMIT 1[0m


Processing SessionsController#create (for 0.0.0.0 at 2010-03-29 01:25:03) [POST]
  Parameters: {"action"=>"create", "controller"=>"sessions"}


Processing SessionsController#new (for 0.0.0.0 at 2010-03-29 01:25:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/login]


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 01:25:03) [POST]
  Parameters: {"action"=>"create", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://test.host/users]


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 01:25:03) [POST]
  Parameters: {"action"=>"create", "controller"=>"users"}
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:03', '2010-03-28 18:25:03', NULL, NULL, NULL, NULL)[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 01:25:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/signup]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:04', '2010-03-28 18:25:04', 'rbates', '66f80d1d1a17176b1076c22af816c4d3567203e4', '71d9a83ff463fe209884a40c033f1b502f47632d', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:25:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:25:05) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 2, DB: 1) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:05', '2010-03-28 18:25:05', 'rbates', '4d2ad9094e38fdad2b8e5a31e29b0ddd49eb7f82', 'a27cb3371587de9af6ba47855f4f2a0bb5cdbe95', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:25:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:25:05) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m

NameError (undefined local variable or method `root_url' for #<SessionsController:0xb68069dc>):
  app/controllers/sessions_controller.rb:10:in `create'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `send'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `do_request'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:19:in `post'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `post'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `send'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `process_request'
  webrat (0.7.0) lib/webrat/core/session.rb:118:in `request_page'
  webrat (0.7.0) lib/webrat/core/elements/form.rb:20:in `submit'
  webrat (0.7.0) lib/webrat/core/elements/field.rb:225:in `click'
  webrat (0.7.0) lib/webrat/core/scope.rb:290:in `click_button'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `click_button'
  (eval):2:in `click_button'
  /test/integration/authentication_test.rb:9:in `test_logging_in_with_valid_username_and_password'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit.rb:279
  rake (0.8.7) lib/rake/rake_test_loader.rb:5

Rendered rescues/_trace (53.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:40', '2010-03-28 18:25:40', 'rbates', '276a5c2fea3cedb7e5947f06d1a760c722a7f2ef', '3860da1fc7e23741e8ee0b3ce49192faf062d1d3', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:25:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:25:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 2, DB: 1) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:25:40', '2010-03-28 18:25:40', 'rbates', 'f18672bf4f18acbb16efa8c59e9fe5b8a72bae26', '2013001ff2758c1227bf006418a869c46a203bfe', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:25:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 1, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:25:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m

NameError (undefined local variable or method `root_url' for #<SessionsController:0xb68ae704>):
  app/controllers/sessions_controller.rb:10:in `create'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `send'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:46:in `do_request'
  webrat (0.7.0) lib/webrat/adapters/rails.rb:19:in `post'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `post'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `send'
  webrat (0.7.0) lib/webrat/core/session.rb:279:in `process_request'
  webrat (0.7.0) lib/webrat/core/session.rb:118:in `request_page'
  webrat (0.7.0) lib/webrat/core/elements/form.rb:20:in `submit'
  webrat (0.7.0) lib/webrat/core/elements/field.rb:225:in `click'
  webrat (0.7.0) lib/webrat/core/scope.rb:290:in `click_button'
  (__FORWARDABLE__):3:in `__send__'
  (__FORWARDABLE__):3:in `click_button'
  (eval):2:in `click_button'
  /test/integration/authentication_test.rb:9:in `test_logging_in_with_valid_username_and_password'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
  /home/user/.rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/test/unit.rb:279
  rake (0.8.7) lib/rake/rake_test_loader.rb:5

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:27:25', '2010-03-28 18:27:25', 'rbates', '1a2e2f3e0d0d893ec443e5634254839136401a8e', '9be77458cb12f47959bd8521754767b6cab4866d', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:27:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 10ms (View: 9, DB: 3) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:27:25) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 2, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:27:25', '2010-03-28 18:27:25', 'rbates', '02d384e9b9ccac52a5a2a3a04cbefbf075c0475f', 'd8877b96b190c79d3d53b57203dd935aabdc3a6c', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:27:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 5ms (View: 1, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:27:25) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/sessions]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/sessions"}


Processing UsersController#new (for 127.0.0.1 at 2010-03-29 01:27:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:27:57', '2010-03-28 18:27:57', 'rbates', 'b740ad56bec0c4c5c09a15b5dfc573f29105e39b', '950862004a3abde78b90cac70f42607cdb1b7a52', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:27:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 10ms (View: 9, DB: 3) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:27:57) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:27:57', '2010-03-28 18:27:57', 'rbates', 'fb2ee68bed6470b074c36ee6eaa83dd7026c4034', '087f6a9c20c5f40cf8741fc279bb44b365dc468c', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:27:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:27:57) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/sessions]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/sessions"}


Processing UsersController#new (for 127.0.0.1 at 2010-03-29 01:27:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:28:33', '2010-03-28 18:28:33', 'rbates', 'e0cf8a140963dd37500a51ebd6fc70428271d651', '9991e52ae0730e5bdc1a392e92c81ce47c1410b2', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:28:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 17ms (View: 15, DB: 3) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:28:33) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:28:33', '2010-03-28 18:28:33', 'rbates', 'f66aa5a9b34ad34041d96cde94d65f033245ec51', 'a08b5da753a85e6ebd66ca3feaaa94a2612ba19a', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:28:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:28:33) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/sessions]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/sessions"}


Processing UsersController#new (for 127.0.0.1 at 2010-03-29 01:28:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:28:53', '2010-03-28 18:28:53', 'rbates', 'ba5f2730ae92e6aa8cbdd69cc68a7130c50c2e7e', '2b069bed78b26870969ba2b664e6442ecf6d2c6e', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:28:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"badsecret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:28:53) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 9ms (View: 1, DB: 0) | 200 OK [http://www.example.com/sessions]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@example.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("created_at", "updated_at", "username", "password_salt", "password_hash", "email") VALUES('2010-03-28 18:28:53', '2010-03-28 18:28:53', 'rbates', '9018d3d5b236948849911b81f368579dc766b5b9', '11ab0ceae887e6baf069066ccf3f744a00d7248b', 'ryan@example.com')[0m
REQUESTING PAGE: GET http://www.example.com/login with {} and HTTP headers {}


Processing SessionsController#new (for 127.0.0.1 at 2010-03-29 01:28:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 2ms (View: 2, DB: 1) | 200 OK [http://www.example.com/login]
REQUESTING PAGE: POST /sessions with {"commit"=>"Log in", "password"=>"secret", "login"=>"rbates"} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/login"}


Processing SessionsController#create (for 127.0.0.1 at 2010-03-29 01:28:53) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "controller"=>"sessions", "password"=>"[FILTERED]", "login"=>"rbates"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'rbates') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/sessions]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/sessions"}


Processing UsersController#new (for 127.0.0.1 at 2010-03-29 01:28:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://www.example.com/]
